{% extends layouts.base %}

{% set sectionClass = 'page--saved-cc' %}

{# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ #}
{# DEFINE BLOCK - CONTENT #}
{# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ #}
{% block content %}

{% include "_includes/groups/fpo/magnolia-managed-content-block.html.twig" with {
position: 'top',
html: '<div class="reverse-bg py-3">
  <p class="m-0 text-center text-muted">Mangolia Managed Content Block</p>
</div>'
} %}

{# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ #}
{# DEFINE BLOCK - MAIN #}
{# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ #}
{% block main %}

<section class="container container--page">

  {% embed '_layouts/columns-3x9-secondary-nav.html.twig' %}

  {# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ #}
  {# DEFINE BLOCK - ASIDE #}
  {# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ #}
  {% block aside %}

  {% include '_includes/groups/navigation/my-account-nav.html.twig' with { active : 'saved-credit-cards' } %}

  {% endblock %}

  {# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ #}
  {# DEFINE BLOCK - MAIN #}
  {# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ #}
  {% block main %}

  <h2 class="mb-5">Saved Credit Cards</h2>

  <hr>

  <!-- START - HEADER SECTION -->
  <div class="mb-5">
    <h5>Saved Cards</h5>
    <p>You can save a maximum of 5 credit cards to your account. You can edit card information or add/remove at any time.</p>
    <p>For your protection, we will remove credit cards from our system that have not been used in a one year time period. If you have any questions, please contact us.</p>
  </div>
  <!-- END - HEADER SECTION -->

  <hr class="mb-0">

  <div class="panel-group panel-group--icons" id="savedCreditCardsList">

      <!-- Item -->
      <div class="panel panel-light border-bottom collapsed">
        <div class="panel-heading border-0 px-0">
          <h6 class="edit-header m-0">Edit Credit Card</h6>
          <h4 class="panel-title">
            {% include "_includes/modules/account/saved-credit-card-item.html.twig" with {
              thumb: '../images/icons/payment-visa.svg',
              cardType: 'VISA',
              lastFour: '1234',
              name: 'Marcia Brady',
              expirationDate: '01/21',
              lrg: true,
              dataParent: '#savedCreditCardsList',
              dataTarget: '#collapseOne'
            } %}
          </h4>
        </div>
        <div id="collapseOne" class="panel-collapse collapse">
          <div class="panel-body">
            <div class="my-5">
              <h5>Content</h5>
              <p>Nulla pariatur eu fugiat deserunt aliquip ex duis tempor laboris ex reprehenderit ullamco incididunt sit pariatur do nostrud.</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Item -->
      <div class="panel panel-light border-bottom collapsed">
        <div class="panel-heading">
          <h4 class="panel-title">
            <a data-toggle="collapse" data-parent="#savedCreditCards" data-target="#collapseTwo">
              <span class="lt-icon lt-icon lt-expand-circle lt-large"></span>
              <span class="lt-icon lt-icon lt-collapse-circle lt-large"></span>
              <span>Collapsible Group Item #2</span>
            </a>
          </h4>
        </div>
        <div id="collapseTwo" class="panel-collapse collapse">
          <div class="panel-body">
            <div class="my-5">
              <h5>Content</h5>
              <p>Nulla pariatur eu fugiat deserunt aliquip ex duis tempor laboris ex reprehenderit ullamco incididunt sit pariatur do nostrud.</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Item -->
      <div class="panel panel-light border-bottom collapsed">
        <div class="panel-heading">
          <h4 class="panel-title">
            <a data-toggle="collapse" data-parent="#savedCreditCards" data-target="#collapseThree">
              <span class="lt-icon lt-icon lt-expand-circle lt-large"></span>
              <span class="lt-icon lt-icon lt-collapse-circle lt-large"></span>
              <span>Collapsible Group Item #3</span>
            </a>
          </h4>
        </div>
        <div id="collapseThree" class="panel-collapse collapse">
          <div class="panel-body">
            <div class="my-5">
              <h5>Content</h5>
              <p>Nulla pariatur eu fugiat deserunt aliquip ex duis tempor laboris ex reprehenderit ullamco incididunt sit pariatur do nostrud.</p>
            </div>
          </div>
        </div>
      </div>

    </div><!-- /panel-group -->

  <div class="list-group list-group--clean-sliced list-group--icons">
    <div class="list-group-item">
      {% include "_includes/modules/account/saved-credit-card-item.html.twig" with {
        thumb: '../images/icons/payment-visa.svg',
        cardType: 'VISA',
        lastFour: '1234',
        name: 'Marcia Brady',
        expirationDate: '01/21',
        lrg: true
      } %}
    </div>
    <div class="list-group-item">
      {% include "_includes/modules/account/saved-credit-card-item.html.twig" with {
        thumb: '../images/icons/payment-mastercard.svg',
        cardType: 'Mastercard',
        lastFour: '9876',
        name: 'Marcia Brady Englebert Wonka-Cumberbach',
        expirationDate: '03/18',
        expired: true,
        lrg: true
      } %}
    </div>
    <div class="list-group-item">
      {% include "_includes/modules/account/saved-credit-card-item.html.twig" with {
        thumb: '../images/icons/payment-visa.svg',
        cardType: 'VISA',
        lastFour: '3456',
        name: 'Marcia Brady',
        expirationDate: '08/21',
        lrg: true
      } %}
    </div>

    <!-- START - EDIT CARD SECTION -->
    <div id="collapseOne" class="collapse">
      <div class="my-5">
        <h5>Edit Credit Card</h5>
        <p>Nulla pariatur eu fugiat deserunt aliquip ex duis tempor laboris ex reprehenderit ullamco incididunt sit pariatur do nostrud.</p>
      </div>
    </div>
    <!-- END - EDIT CARD SECTION -->

  </div>

  <!-- DEV NOTE :: The 'add a new card' button disapears when max number of saved cards is reached -->
  <div class="">
    <button class="btn btn-default btn-soft btn-sm">Add a New Card</button>
  </div>

  {% endblock %}

  {% endembed %}

</section>

{% endblock %}

<!-- START - MAGNOLIA BLOCK -->
{% include "_includes/groups/fpo/magnolia-managed-content-block.html.twig" with {
position: 'bottom',
html: '<div class="reverse-bg py-3">
  <p class="m-0 text-center text-muted">Mangolia Managed Content Block</p>
</div>'
} %}
<!-- END - MAGNOLIA BLOCK -->

<!-- MODAL - EDIT CREDIT CARD -->
{% include "_includes/modules/account/modals-pay/pay-avon-edit-card-modal.html.twig" %}

<!-- MODAL - REVIEW PAYMENT -->
{% include "_includes/modules/account/modals-pay/pay-avon-review-payment-modal.html.twig" %}

<!-- MODAL - PAYMENT CONFIRMATION -->
{% include "_includes/modules/account/modals-pay/pay-avon-payment-confirmation-modal.html.twig" %}

{% endblock %}
